# Тестовое задание

## Логика сбора данных
### Твиттер
В твиттере пока оставил только твитты с упоминанием селебы. То есть, твитты типа: "Илон маск одныжды сказал" или "Илон маск сказал", после строки через split() поделены на 2 части и взята только 2 часть (Потому что пока, что не сделал нахождение шаблонов через NLP)

### Ютуб
На ютубе можно получить достатчно много хороших данных без "шумов", которые есть в твтиттере. Если брать подкасты/интервью, то там разговот 2-3 людей, что дает много данных по диалогам и вопрос-> ответ, а так как у них более высокий приоритет, то основной упор был сделан в платформу.


## Формат данных
Пока не придумал ничего лучше, чем хранить в json'e типа
```json
[
  {
  "phrases":
  [
    "phrase_0",
    "phrase_1",

  ]
  },
  {
  "video_0":
    {
    "questions":
      [
        "question_0",
        "question_1"

      ]
    },
    {
    "answers":
      [
        "answer_0",
        "answer_1",

      ]
    }
  },
  {
  "video_1":
    {
    "questions":
      [
        "question_0",
        "question_1"

      ]
    },
    {
    "answers":
      [
        "answer_0",
        "answer_1",

      ]
    }
  },

]
```
## Качество данных
### Фразы
Данные с очень большими погрешностями, потому что в твитах очень много вариаций "цитирования" и для отсеивания мусроной инфы надо написать шаблонизватор (пока не успел)

### Вопрос-> ответ/диалоги
Здесь качетсво данных обусловленно качеством субтитров, а также насколько они попадают в ответы селебы или вопросы журналиста.
Потому что сначала берется json полученный через youtube-transcript-api, хранящий субтитры и тайминги по типу:
```json
[
  {
    "text":"<text>",
    "start":"<start_time>",
    "duration":"<duration_time>"
  }
]
```
Далее все идёт по алгоритму:
- Полный подкаст/интервью пилится на кусики длинной duration_time и начиная с start_time (К сожалению у обученной модели подгрузка аудиофайлов идет только через путь к файлу, поэтому пришлось костылить и сохранять отрывки в файлы типа "extract_i.mp3", а потом уже с ним работать).
- Подгружается sample голоса Илона Маска и отрывок полного подкаста/интервью
- Проверяется кто говорит на отрывке:1) Илон Маск, 2)Журналист
- Если на отрывке говорит Илон Маск, то в answers добавляется текст с субтитров из отрывка
- Если говрит не Илон Маск, то текст добавляется в вопросы.
- В конце возвращается json, по типу:
```json
{
  "video_0":
    {
    "questions":
      [
        "question_0",
        "question_1"
      ]
    },
    {
    "answers":
      [
        "answer_0",
        "answer_1",
      ]
    }
  }
```



